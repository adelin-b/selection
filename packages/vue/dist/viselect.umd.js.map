{"version":3,"file":"viselect.umd.js","sources":["../src/SelectionArea.vue"],"sourcesContent":["<template>\n  <div ref=\"container\">\n    <slot/>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport SelectionArea, {SelectionEvents, SelectionOptions} from '@viselect/vanilla';\nimport {onBeforeUnmount, ref, watchEffect, shallowRef} from 'vue';\n\nconst props = defineProps<{\n  options: Omit<SelectionOptions, 'boundaries'>;\n  onBeforeStart?: SelectionEvents['beforestart'];\n  onBeforeDrag?: SelectionEvents['beforedrag'];\n  onStart?: SelectionEvents['start'];\n  onMove?: SelectionEvents['move'];\n  onStop?: SelectionEvents['stop'];\n}>();\n\nconst container = ref<HTMLDivElement>();\nconst instance = shallowRef<SelectionArea | undefined>();\n\nwatchEffect(() => {\n  if (container.value) {\n    instance.value?.destroy();\n\n    instance.value = new SelectionArea({\n      boundaries: container.value,\n      ...props.options\n    });\n\n    const {onBeforeStart, onBeforeDrag, onStart, onMove, onStop} = props;\n\n    onBeforeStart && instance.value.on('beforestart', onBeforeStart);\n    onBeforeDrag && instance.value.on('beforedrag', onBeforeDrag);\n    onStart && instance.value.on('start', onStart as SelectionEvents['start']);\n    onMove && instance.value.on('move', onMove as SelectionEvents['move']);\n    onStop && instance.value.on('stop', onStop as SelectionEvents['stop']);\n  }\n});\n\n\nonBeforeUnmount(() => {\n  instance.value?.destroy();\n});\n\ndefineExpose({\n  selection: instance\n})\n</script>\n"],"names":["container","ref","instance","shallowRef","watchEffect","_a","SelectionArea","props","onBeforeStart","onBeforeDrag","onStart","onMove","onStop","onBeforeUnmount","expose"],"mappings":"ofAmBMA,EAAYC,EAAAA,MACZC,EAAWC,EAAAA,aAEjBC,OAAAA,EAAAA,YAAY,IAAM,OAChB,GAAIJ,EAAU,MAAO,EACnBK,EAAAH,EAAS,QAAT,MAAAG,EAAgB,UAEPH,EAAA,MAAQ,IAAII,EAAc,CACjC,WAAYN,EAAU,MACtB,GAAGO,EAAM,OAAA,CACV,EAED,KAAM,CAAC,cAAAC,EAAe,aAAAC,EAAc,QAAAC,EAAS,OAAAC,EAAQ,OAAAC,CAAU,EAAAL,EAE/DC,GAAiBN,EAAS,MAAM,GAAG,cAAeM,CAAa,EAC/DC,GAAgBP,EAAS,MAAM,GAAG,aAAcO,CAAY,EAC5DC,GAAWR,EAAS,MAAM,GAAG,QAASQ,CAAmC,EACzEC,GAAUT,EAAS,MAAM,GAAG,OAAQS,CAAiC,EACrEC,GAAUV,EAAS,MAAM,GAAG,OAAQU,CAAiC,EACvE,CACD,EAGDC,EAAAA,gBAAgB,IAAM,QACpBR,EAAAH,EAAS,QAAT,MAAAG,EAAgB,SAAQ,CACzB,EAEYS,EAAA,CACX,UAAWZ,CAAA,CACZ"}