{"version":3,"file":"viselect.mjs","sources":["../src/SelectionArea.vue"],"sourcesContent":["<template>\n  <div ref=\"container\">\n    <slot/>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport SelectionArea, {SelectionEvents, SelectionOptions} from '@viselect/vanilla';\nimport {onBeforeUnmount, ref, watchEffect, shallowRef} from 'vue';\n\nconst props = defineProps<{\n  options: Omit<SelectionOptions, 'boundaries'>;\n  onBeforeStart?: SelectionEvents['beforestart'];\n  onBeforeDrag?: SelectionEvents['beforedrag'];\n  onStart?: SelectionEvents['start'];\n  onMove?: SelectionEvents['move'];\n  onStop?: SelectionEvents['stop'];\n}>();\n\nconst container = ref<HTMLDivElement>();\nconst instance = shallowRef<SelectionArea | undefined>();\n\nwatchEffect(() => {\n  if (container.value) {\n    instance.value?.destroy();\n\n    instance.value = new SelectionArea({\n      boundaries: container.value,\n      ...props.options\n    });\n\n    const {onBeforeStart, onBeforeDrag, onStart, onMove, onStop} = props;\n\n    onBeforeStart && instance.value.on('beforestart', onBeforeStart);\n    onBeforeDrag && instance.value.on('beforedrag', onBeforeDrag);\n    onStart && instance.value.on('start', onStart as SelectionEvents['start']);\n    onMove && instance.value.on('move', onMove as SelectionEvents['move']);\n    onStop && instance.value.on('stop', onStop as SelectionEvents['stop']);\n  }\n});\n\n\nonBeforeUnmount(() => {\n  instance.value?.destroy();\n});\n\ndefineExpose({\n  selection: instance\n})\n</script>\n"],"names":["container","ref","instance","shallowRef","watchEffect","_a","SelectionArea","props","onBeforeStart","onBeforeDrag","onStart","onMove","onStop","onBeforeUnmount","expose"],"mappings":";;;;;;;;;;;;;;;iBAmBMA,IAAYC,KACZC,IAAWC;AAEjB,WAAAC,EAAY,MAAM;;AAChB,UAAIJ,EAAU,OAAO;AACnB,SAAAK,IAAAH,EAAS,UAAT,QAAAG,EAAgB,WAEPH,EAAA,QAAQ,IAAII,EAAc;AAAA,UACjC,YAAYN,EAAU;AAAA,UACtB,GAAGO,EAAM;AAAA,QAAA,CACV;AAED,cAAM,EAAC,eAAAC,GAAe,cAAAC,GAAc,SAAAC,GAAS,QAAAC,GAAQ,QAAAC,EAAU,IAAAL;AAE/D,QAAAC,KAAiBN,EAAS,MAAM,GAAG,eAAeM,CAAa,GAC/DC,KAAgBP,EAAS,MAAM,GAAG,cAAcO,CAAY,GAC5DC,KAAWR,EAAS,MAAM,GAAG,SAASQ,CAAmC,GACzEC,KAAUT,EAAS,MAAM,GAAG,QAAQS,CAAiC,GACrEC,KAAUV,EAAS,MAAM,GAAG,QAAQU,CAAiC;AAAA;AAAA,IACvE,CACD,GAGDC,EAAgB,MAAM;;AACpB,OAAAR,IAAAH,EAAS,UAAT,QAAAG,EAAgB;AAAA,IAAQ,CACzB,GAEYS,EAAA;AAAA,MACX,WAAWZ;AAAA,IAAA,CACZ;;;;;;;;"}